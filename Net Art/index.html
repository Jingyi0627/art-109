<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Refresh Anxiety</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body {
            font-family: system-ui, sans-serif;
            background-color: #0b0c10;
            color: #f5f5f5;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            padding: 2rem;
            text-align: center;
            transition: background-color 0.5s, color 0.5s;
        }

        h1 {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        p {
            margin: 0.5rem 0;
        }

        .note {
            font-size: 0.8rem;
            opacity: 0.7;
            margin-top: 1rem;
        }

        /*  LEVEL COLORS  */
        body.level-1 {
            background-color: #050e30;
            animation: shake1 0.15s infinite alternate;
        }

        body.level-2 {
            background-color: #03442a;
            animation: shake2 0.15s infinite alternate;
        }

        body.level-3 {
            background-color: #daba00;
            color: #000;
            animation: shake3 0.15s infinite alternate;
        }

        body.level-4 {
            background-color: #ffb61a;
            animation: shake4 0.15s infinite alternate;
        }

        body.level-5 {
            background-color: #5b0712;
            animation: shake5 0.15s infinite alternate;
        }

        @keyframes shake1 {
            100% {
                transform: translate(5px, 5px);
            }
        }

        @keyframes shake2 {
            100% {
                transform: translate(15px, 15px);
            }
        }

        @keyframes shake3 {
            100% {
                transform: translate(25px, 25px);
            }
        }

        @keyframes shake4 {
            100% {
                transform: translate(35px, 35px);
            }
        }

        @keyframes shake5 {
            100% {
                transform: translate(45px, 45px);
            }
        }

        /*  MODAL */
        .modal-backdrop {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 1.5rem;
            z-index: 9999;
        }

        .modal {
            background: #091018;
            padding: 1.5rem;
            border-radius: 12px;
            max-width: 460px;
            width: 100%;
            text-align: center;
            color: #f5f5f5;
            border: 1px solid rgba(255, 255, 255, 0.15);
        }

        .modal button {
            background: #4dc1ff;
            padding: 0.6rem 1rem;
            margin-top: 1rem;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
        }

        .ai-note {
            font-size: 0.75rem;
            opacity: 0.6;
            font-style: italic;
            margin-top: 1rem;
        }
    </style>
</head>

<body>

    <!--  MODAL  -->
    <div id="modalBackdrop" class="modal-backdrop">
        <div class="modal">
            <h2>⚠️ Warning: Visual Effects Ahead</h2>
            <p>Please consider carefully. This page will flash colors and vibrate the screen to simulate digital
                anxiety.
                Sensitive users may find this uncomfortable.</p>

            <!-- <p class="ai-note">
                Note: Some code snippets were assisted by AI, but all code has been fully understood and modified by the
                author.
            </p>

            <button id="startBtn">I understand, start experience</button>
        </div>
    </div>

    <!--  MAIN CONTENT -->
            <h1>Refreshing…</h1>
            <p id="statusText">A small experiment about digital anxiety and information overload.</p>
            <p>Refresh count: <span id="counter">0</span></p>

            <p class="note">⚠️ Please use with caution. Some visual changes may make sensitive users feel uncomfortable.
            </p>


            <script>
                const modal = document.getElementById("modalBackdrop");
                const startBtn = document.getElementById("startBtn");

                // approve
                startBtn.addEventListener("click", () => {
                    localStorage.setItem("modalAccepted", "true");
                    modal.style.display = "none";
                    initRefresh();
                });

                // check
                const accepted = localStorage.getItem("modalAccepted");

                if (accepted === "true") {
                    // refresh
                    modal.style.display = "none";
                    initRefresh();
                }

                function initRefresh() {
                    let count = parseInt(localStorage.getItem("refreshCount") || "0", 10);
                    count++;
                    localStorage.setItem("refreshCount", count);
                    document.getElementById("counter").textContent = count;

                    // 1–5 levels
                    let level = ((count - 1) % 5) + 1;
                    document.body.classList.add("level-" + level);

                    const messages = {
                        1: "It seems there are many new discoveries. You just want a small update.",
                        2: "There's too much information to handle. Let's get started right away.",
                        3: "You still have a bunch of tasks left unfinished.",
                        4: "You can no longer concentrate.",
                        5: "Information overload, information overload."
                    };

                    document.getElementById("statusText").textContent = messages[level];
                }
            </script>

</body>

</html>